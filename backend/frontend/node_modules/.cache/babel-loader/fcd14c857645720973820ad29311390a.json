{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"E:/sd-new-lila/backend/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{Form,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import FormContainer from'../components/FormContainer';import{listNotificationDetails,updateNotification}from'../actions/notificationActions';import{NOTIFICATION_UPDATE_RESET}from'../constants/notificationConstants';function NotificationEditScreen(_ref){var match=_ref.match,history=_ref.history;var notificationId=match.params.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),link=_useState6[0],setLink=_useState6[1];var dispatch=useDispatch();var notificationDetails=useSelector(function(state){return state.notificationDetails;});var error=notificationDetails.error,loading=notificationDetails.loading,notification=notificationDetails.notification;var notificationUpdate=useSelector(function(state){return state.notificationUpdate;});var errorUpdate=notificationUpdate.error,loadingUpdate=notificationUpdate.loading,successUpdate=notificationUpdate.success;useEffect(function(){if(successUpdate){dispatch({type:NOTIFICATION_UPDATE_RESET});history.push('/admin/notificationcenterlist');}else{if(!notification.name||notification._id!==Number(notificationId)){dispatch(listNotificationDetails(notificationId));}else{setTitle(notification.title);setDescription(notification.description);setLink(notification.link);}}},[dispatch,notification,notificationId,history,successUpdate]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(updateNotification({_id:notificationId,title:title,description:description,link:link}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/notificationcenterlist\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Notification\"}),loadingUpdate&&/*#__PURE__*/_jsx(Loader,{}),errorUpdate&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:errorUpdate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"title\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"description\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"link\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter link\",value:link,onChange:function onChange(e){return setLink(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Update\"})]})]})]});}export default NotificationEditScreen;","map":{"version":3,"sources":["E:/sd-new-lila/backend/frontend/src/screens/NotificationEditScreen.js"],"names":["React","useState","useEffect","axios","Link","Form","Button","useDispatch","useSelector","Loader","Message","FormContainer","listNotificationDetails","updateNotification","NOTIFICATION_UPDATE_RESET","NotificationEditScreen","match","history","notificationId","params","id","title","setTitle","description","setDescription","link","setLink","dispatch","notificationDetails","state","error","loading","notification","notificationUpdate","errorUpdate","loadingUpdate","successUpdate","success","type","push","name","_id","Number","submitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { listNotificationDetails, updateNotification } from '../actions/notificationActions'\r\nimport { NOTIFICATION_UPDATE_RESET } from '../constants/notificationConstants'\r\n\r\n\r\nfunction NotificationEditScreen({ match, history }) {\r\n\r\n    const notificationId = match.params.id\r\n\r\n    const [title, setTitle] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [link, setLink] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const notificationDetails = useSelector(state => state.notificationDetails)\r\n    const { error, loading, notification } = notificationDetails\r\n\r\n    const notificationUpdate = useSelector(state => state.notificationUpdate)\r\n    const { error: errorUpdate, loading: loadingUpdate, success: successUpdate } = notificationUpdate\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (successUpdate) {\r\n            dispatch({ type: NOTIFICATION_UPDATE_RESET })\r\n            history.push('/admin/notificationcenterlist')\r\n        } else {\r\n            if (!notification.name || notification._id !== Number(notificationId)) {\r\n                dispatch(listNotificationDetails(notificationId))\r\n            } else {\r\n                setTitle(notification.title)\r\n                setDescription(notification.description)\r\n                setLink(notification.link)\r\n            }\r\n        }\r\n\r\n\r\n\r\n    }, [dispatch, notification, notificationId, history, successUpdate])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(updateNotification({\r\n            _id: notificationId,\r\n            title,\r\n            description,\r\n            link,\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Link to='/admin/notificationcenterlist'>\r\n                Go Back\r\n            </Link>\r\n\r\n            <FormContainer>\r\n                <h1>Edit Notification</h1>\r\n                {loadingUpdate && <Loader />}\r\n                {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\r\n                {loading ? <Loader /> : error ? <Message variant='danger'>{error}</Message>\r\n                    : (\r\n                        <Form onSubmit={submitHandler}>\r\n\r\n                            <Form.Group controlId='title'>\r\n                                <Form.Label>Name</Form.Label>\r\n                                <Form.Control\r\n\r\n                                    type='text'\r\n                                    placeholder='Enter title'\r\n                                    value={title}\r\n                                    onChange={(e) => setTitle(e.target.value)}\r\n                                >\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='description'>\r\n                                <Form.Label>Category</Form.Label>\r\n                                <Form.Control\r\n\r\n                                    type='text'\r\n                                    placeholder='Enter description'\r\n                                    value={description}\r\n                                    onChange={(e) => setDescription(e.target.value)}\r\n                                >\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId='link'>\r\n                                <Form.Label>Description</Form.Label>\r\n                                <Form.Control\r\n\r\n                                    type='text'\r\n                                    placeholder='Enter link'\r\n                                    value={link}\r\n                                    onChange={(e) => setLink(e.target.value)}\r\n                                >\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n\r\n\r\n                            <Button type='submit' variant='primary'>\r\n                                Update\r\n                        </Button>\r\n\r\n                        </Form>\r\n                    )}\r\n\r\n            </FormContainer >\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default NotificationEditScreen"]},"metadata":{},"sourceType":"module"}